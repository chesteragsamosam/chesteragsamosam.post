import{B as K,C as L,E as W,F as w,K as G,R as J,S as Q,g as X,T as Y,h as Z,i as ee,j as te,V as se,k as ae,l as oe,m as ne,n as le,q as re,s as ie,u as de,v as _,x as ce,y as E,z as y,c as d,a as e,A as ue,D as me,G as ve,H as he,I as pe,J as fe,e as be,b as M,L as ge,M as ye,N as _e,O as xe,P as we,Q as Ce,U as ke,W as $e,X as Se,Y as Pe,Z as Re,$ as Ee,a0 as Me,a1 as Ve,a2 as Be,a3 as Te,a4 as Ne,a5 as Ae,a6 as De,a7 as je,a8 as ze,a9 as Ue,aa as He,ab as Ie,ac as Oe,ad as Fe,ae as qe,af as Ke,ag as Le,ah as We,ai as Ge,aj as Je,ak as Qe,al as V,am as Xe,an as Ye,ao as Ze,ap as et,aq as tt,ar as st,as as at,at as ot,au as B,av as nt,aw as lt,ax as rt,ay as it,az as dt,aA as ct,o as l,f as ut,aB as mt,aC as vt,p as ht,aD as pt,aE as ft,aF as bt,r as h,aG as gt,aH as yt,aI as C,aJ as _t,d as xt,aK as wt,aL as Ct,aM as kt,aN as $t,aO as St,aP as Pt,aQ as Rt,aR as Et,aS as Mt,aT as Vt,aU as Bt,aV as Tt,aW as Nt,t as b,aX as At,aY as Dt,aZ as jt,a_ as zt,a$ as Ut,b0 as Ht,b1 as It,b2 as f,b3 as Ot,b4 as Ft,b5 as qt,b6 as Kt,b7 as Lt,b8 as Wt,b9 as Gt,ba as Jt,bb as Qt,bc as Xt,bd as k,be as Yt,bf as Zt,bg as es,bh as ts,bi as ss,bj as as,bk as os,bl as ns,w as ls,bm as rs,bn as $,bo as is,bp as ds,bq as cs,br as us,bs as ms,bt as vs}from"./index-7b5400e7.js";const hs=()=>{},ps=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:K,Comment:L,EffectScope:W,Fragment:w,KeepAlive:G,ReactiveEffect:J,Static:Q,Suspense:X,Teleport:Y,Text:Z,Transition:ee,TransitionGroup:te,VueElement:se,assertNumber:ae,callWithAsyncErrorHandling:oe,callWithErrorHandling:ne,camelize:le,capitalize:re,cloneVNode:ie,compatUtils:de,compile:hs,computed:_,createApp:ce,createBlock:E,createCommentVNode:y,createElementBlock:d,createElementVNode:e,createHydrationRenderer:ue,createPropsRestProxy:me,createRenderer:ve,createSSRApp:he,createSlots:pe,createStaticVNode:fe,createTextVNode:be,createVNode:M,customRef:ge,defineAsyncComponent:ye,defineComponent:_e,defineCustomElement:xe,defineEmits:we,defineExpose:Ce,defineProps:ke,defineSSRCustomElement:$e,get devtools(){return Se},effect:Pe,effectScope:Re,getCurrentInstance:Ee,getCurrentScope:Me,getTransitionRawChildren:Ve,guardReactiveProps:Be,h:Te,handleError:Ne,hydrate:Ae,initCustomFormatter:De,initDirectivesForSSR:je,inject:ze,isMemoSame:Ue,isProxy:He,isReactive:Ie,isReadonly:Oe,isRef:Fe,isRuntimeOnly:qe,isShallow:Ke,isVNode:Le,markRaw:We,mergeDefaults:Ge,mergeProps:Je,nextTick:Qe,normalizeClass:V,normalizeProps:Xe,normalizeStyle:Ye,onActivated:Ze,onBeforeMount:et,onBeforeUnmount:tt,onBeforeUpdate:st,onDeactivated:at,onErrorCaptured:ot,onMounted:B,onRenderTracked:nt,onRenderTriggered:lt,onScopeDispose:rt,onServerPrefetch:it,onUnmounted:dt,onUpdated:ct,openBlock:l,popScopeId:ut,provide:mt,proxyRefs:vt,pushScopeId:ht,queuePostFlushCb:pt,reactive:ft,readonly:bt,ref:h,registerRuntimeCompiler:gt,render:yt,renderList:C,renderSlot:_t,resolveComponent:xt,resolveDirective:wt,resolveDynamicComponent:Ct,resolveFilter:kt,resolveTransitionHooks:$t,setBlockTracking:St,setDevtoolsHook:Pt,setTransitionHooks:Rt,shallowReactive:Et,shallowReadonly:Mt,shallowRef:Vt,ssrContextKey:Bt,ssrUtils:Tt,stop:Nt,toDisplayString:b,toHandlerKey:At,toHandlers:Dt,toRaw:jt,toRef:zt,toRefs:Ut,transformVNodeArgs:Ht,triggerRef:It,unref:f,useAttrs:Ot,useCssModule:Ft,useCssVars:qt,useSSRContext:Kt,useSlots:Lt,useTransitionState:Wt,vModelCheckbox:Gt,vModelDynamic:Jt,vModelRadio:Qt,vModelSelect:Xt,vModelText:k,vShow:Yt,version:Zt,warn:es,watch:ts,watchEffect:ss,watchPostEffect:as,watchSyncEffect:os,withAsyncContext:ns,withCtx:ls,withDefaults:rs,withDirectives:$,withKeys:is,withMemo:ds,withModifiers:cs,withScopeId:us},Symbol.toStringTag,{value:"Module"}));function fs(c){if(c.__esModule)return c;var a=c.default;if(typeof a=="function"){var t=function i(){if(this instanceof i){var o=[null];o.push.apply(o,arguments);var u=Function.bind.apply(a,o);return new u}return a.apply(this,arguments)};t.prototype=a.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(c).forEach(function(i){var o=Object.getOwnPropertyDescriptor(c,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return c[i]}})}),t}const D=fs(ps),{createElementVNode:A,openBlock:bs,createElementBlock:gs}=D;var ys=function(a,t){return bs(),gs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[A("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"}),A("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"})])};const{createElementVNode:_s,openBlock:xs,createElementBlock:ws}=D;var Cs=function(a,t){return xs(),ws("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[_s("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})])},ks=ys,$s=Cs;const Ss={class:"fixed inset-0 z-10 overflow-y-auto"},Ps={class:"flex items-center justify-center min-h-screen px-4"},Rs=e("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),Es={class:"overflow-hidden transition-all transform bg-white rounded-lg shadow-xl sm:w-full md:w-1/2 lg:w-1/3"},Ms={class:"p-4 bg-gray-100"},Vs=e("h2",{class:"mb-2 text-xl font-bold"},"Add Comment",-1),Bs={class:"mb-4"},Ts={class:"flex items-center justify-end"},Ns={__name:"CommentModal",emits:["close","addComment"],setup(c,{emit:a}){const t=h({}),i=()=>{t.value.by="the-user",t.value.date=new Date().toISOString(),a("addComment",t.value)};return(o,u)=>(l(),d("div",Ss,[e("div",Ps,[Rs,e("div",Es,[e("div",Ms,[Vs,e("form",null,[e("div",Bs,[$(e("textarea",{class:"w-full px-3 py-2 leading-tight text-gray-700 border rounded focus:outline-none focus:shadow-outline",id:"comment",placeholder:"Enter your comment","onUpdate:modelValue":u[0]||(u[0]=m=>t.value.comment=m)},null,512),[[k,t.value.comment,void 0,{trim:!0}]])]),e("div",Ts,[e("button",{class:"px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline",type:"button",onClick:u[1]||(u[1]=m=>i())}," Add "),e("button",{class:"px-4 py-2 ml-2 font-bold text-white bg-gray-500 rounded hover:bg-gray-700 focus:outline-none focus:shadow-outline",type:"button",onClick:u[2]||(u[2]=m=>o.$emit("close"))}," Cancel ")])])])])])]))}},As={class:"fixed inset-0 z-10 overflow-y-auto"},Ds={class:"flex items-center justify-center min-h-screen px-4"},js=e("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),zs={class:"overflow-hidden transition-all transform bg-white rounded-lg shadow-xl sm:w-full md:w-1/2 lg:w-1/3"},Us={class:"p-4 bg-gray-100"},Hs={class:"mb-2 text-xl font-bold"},Is={class:"mb-4"},Os=["placeholder"],Fs={class:"flex items-center justify-end"},qs={__name:"PromptUser",props:["title","placeholder","currentValue"],emits:["close","submit"],setup(c,{emit:a}){const t=c,i=h(),o=()=>{a("submit",i.value)};return B(()=>{t.currentValue&&(i.value=t.currentValue)}),(u,m)=>(l(),d("div",As,[e("div",Ds,[js,e("div",zs,[e("div",Us,[e("h2",Hs,b(c.title),1),e("div",null,[e("div",Is,[$(e("textarea",{class:"w-full px-3 py-2 leading-tight text-gray-700 border rounded focus:outline-none focus:shadow-outline",id:"comment",placeholder:c.placeholder,"onUpdate:modelValue":m[0]||(m[0]=g=>i.value=g)},null,8,Os),[[k,i.value,void 0,{trim:!0}]])]),e("div",Fs,[e("button",{class:"px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline",type:"button",onClick:m[1]||(m[1]=g=>o())}," Submit "),e("button",{class:"px-4 py-2 ml-2 font-bold text-white bg-gray-500 rounded hover:bg-gray-700 focus:outline-none focus:shadow-outline",type:"button",onClick:m[2]||(m[2]=g=>u.$emit("close"))}," Cancel ")])])])])])]))}},Ks={class:"container"},Ls=e("h1",{class:"text-6xl font-bold"},"POSTS",-1),Ws={class:"p-4 mb-3 bg-white rounded-md shadow-md"},Gs={class:"items-center justify-between flex-grow mb-3"},Js=["disabled"],Qs=e("hr",{class:"mx-4 my-8 border-t border-gray-300"},null,-1),Xs={key:0,class:"text-center"},Ys={key:1,class:"pt-5"},Zs={class:"p-4 mb-3 bg-white rounded-md shadow-md"},ea={class:"flex items-center justify-between mb-3"},ta={class:"text-4xl font-medium"},sa={class:"text-sm text-gray-500 shrink-0 place-self-start"},aa=["onClick"],oa=["onClick"],na=["onClick"],la={class:"p-4 bg-white rounded-md shadow-md"},ra=e("h3",{class:"mb-4 text-lg font-medium"},"Comments:",-1),ia={key:0,class:"italic text-gray-400"},da={class:"p-4 mb-1 bg-gray-100 rounded-md"},ca={class:"flex items-center gap-4 mb-4"},ua=e("img",{class:"w-12 h-12 rounded-full",src:"https://via.placeholder.com/150",alt:"Profile Picture"},null,-1),ma={class:"text-lg font-medium"},va={class:"text-sm text-gray-500"},ha={class:"text-gray-700"},pa=e("hr",{class:"mx-4 my-8 border-t border-gray-300"},null,-1),fa={class:"flex items-center justify-center my-4"},ba={class:"inline-flex"},ga=["onClick"],ya={key:2},_a={key:3},wa={__name:"Posts",setup(c){const a=ms(),t=h(!1),i=h(!1),o=h(""),u=_(()=>a.getters.getPosts),m=_(()=>a.getters.getPersons),g=_(()=>Math.ceil(a.getters.getPosts.length/20)),S=_(()=>{const s=(p.value-1)*20,r=Math.min(s+20,u.value.length);return u.value.slice(s,r)}),p=h(1),j=s=>{p.value=s},P=h(!1),R=h(""),z=s=>{const r=m.value&&m.value.find(n=>n.guid===s);return r?`${r.first} ${r.last}`:s},U=s=>{a.commit("deletePost",s),p.value=Math.min(p.value,g.value)},H=s=>{a.commit("addComment",{guid:x.value,comment:s})},I=()=>{o&&(a.commit("addPost",o.value),o.value="")},O=s=>{a.commit("updatePost",{guid:x.value,name:s}),i.value=!1},T=h(""),F=s=>{x.value=s.guid,T.value=s.name,i.value=!0};B(async()=>{console.log(a);try{P.value=!0,await a.dispatch("fetchPosts"),P.value=!1}catch(s){R.value=s}});const x=h(""),q=s=>{x.value=s,t.value=!t.value};return(s,r)=>(l(),d("div",Ks,[Ls,e("div",Ws,[e("div",Gs,[$(e("textarea",{"onUpdate:modelValue":r[0]||(r[0]=n=>o.value=n),class:"w-full p-2 border rounded bg-gray-50",placeholder:"What's on your mind?"},null,512),[[k,o.value,void 0,{trim:!0}]]),e("button",{onClick:r[1]||(r[1]=n=>I()),disabled:!o.value,class:V([{"bg-gray-200":!o.value,"bg-blue-500 hover:bg-blue-400 shadow":o.value},"flex-shrink-0 px-2 py-1 text-sm text-white rounded place-self-start"])}," Add Post ",10,Js)])]),Qs,P.value?(l(),d("div",Xs,"Loading...")):f(S)&&f(S).length?(l(),d("div",Ys,[(l(!0),d(w,null,C(f(S),n=>(l(),d("div",{key:"post-"+n.guid,class:""},[e("div",Zs,[e("div",ea,[e("h2",ta,b(n.name),1),e("span",sa,[e("button",{onClick:v=>F(n),class:"text-blue-400"},[M(f(ks),{class:"w-5 h-5 text-gray-700"})],8,aa),e("button",{onClick:v=>U(n.guid),class:"text-red-400"},[M(f($s),{class:"w-5 h-5 text-red-500"})],8,oa)])])]),e("button",{onClick:v=>q(n.guid),class:"float-right px-2 py-1 my-2 mr-2 text-sm text-white bg-blue-500 rounded shadow hover:bg-blue-400"}," Add Comment ",8,na),e("div",la,[ra,n.comments.length===0?(l(),d("div",ia," No comments available ")):y("",!0),(l(!0),d(w,null,C(n.comments.sort((v,N)=>new Date(N.date)-new Date(v.date)),v=>(l(),d("div",da,[e("div",ca,[ua,e("div",null,[e("h4",ma,b(z(v.by)),1),e("span",va,b(f(vs)(v.date)),1)])]),e("p",ha,b(v.comment),1)]))),256))]),pa]))),128)),e("div",fa,[e("div",ba,[p.value>1?(l(),d("button",{key:0,class:"px-3 py-1 mx-1 text-gray-700 rounded-md hover:bg-gray-300",onClick:r[2]||(r[2]=n=>p.value--)}," Prev ")):y("",!0),(l(!0),d(w,null,C(f(g),(n,v)=>(l(),d("button",{key:"page-"+n,class:V(["px-3 py-1 mx-1 text-gray-700 rounded-md hover:bg-gray-300",{"bg-gray-300":v+1==p.value,"bg-gray-200":v+1!=p.value}]),onClick:N=>j(v+1)},b(n),11,ga))),128)),p.value<f(g)?(l(),d("button",{key:1,class:"px-3 py-1 mx-1 text-gray-700 rounded-md hover:bg-gray-300",onClick:r[3]||(r[3]=n=>p.value++)}," Next ")):y("",!0)])])])):(l(),d("div",ya,"No post")),R.value?(l(),d("div",_a,b(R.value),1)):y("",!0),t.value?(l(),E(Ns,{key:4,onAddComment:H,onClose:r[4]||(r[4]=n=>t.value=!1)})):y("",!0),i.value?(l(),E(qs,{key:5,title:"Update Post",placeholder:"What's on your mind",currentValue:T.value,onSubmit:O,onClose:r[5]||(r[5]=n=>i.value=!1)},null,8,["currentValue"])):y("",!0)]))}};export{wa as default};
