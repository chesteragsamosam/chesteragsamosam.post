import{B as W,C as G,E as J,F as w,K as Q,R as X,S as Y,g as Z,T as ee,h as te,i as se,j as ae,V as oe,k as ne,l as le,m as re,n as ie,q as de,s as ce,u as ue,v as _,x as me,y as M,z as y,c as d,a as e,A as ve,D as he,G as pe,H as fe,I as be,J as ge,e as ye,b as V,L as _e,M as xe,N as we,O as Ce,P as ke,Q as $e,U as Pe,W as Se,X as Re,Y as Ee,Z as Me,$ as Ve,a0 as Te,a1 as Be,a2 as Ne,a3 as Ae,a4 as De,a5 as je,a6 as ze,a7 as Ue,a8 as He,a9 as Ie,aa as Oe,ab as Fe,ac as qe,ad as Ke,ae as Le,af as We,ag as Ge,ah as Je,ai as Qe,aj as Xe,ak as Ye,al as T,am as Ze,an as et,ao as tt,ap as st,aq as at,ar as ot,as as nt,at as lt,au as B,av as rt,aw as it,ax as dt,ay as ct,az as ut,aA as mt,o as l,f as vt,aB as ht,aC as pt,p as ft,aD as bt,aE as gt,aF as yt,r as h,aG as _t,aH as xt,aI as C,aJ as wt,d as Ct,aK as kt,aL as $t,aM as Pt,aN as St,aO as Rt,aP as Et,aQ as Mt,aR as Vt,aS as Tt,aT as Bt,aU as Nt,aV as At,aW as Dt,t as b,aX as jt,aY as zt,aZ as Ut,a_ as Ht,a$ as It,b0 as Ot,b1 as Ft,b2 as f,b3 as qt,b4 as Kt,b5 as Lt,b6 as Wt,b7 as Gt,b8 as Jt,b9 as Qt,ba as Xt,bb as Yt,bc as Zt,bd as k,be as es,bf as ts,bg as ss,bh as as,bi as os,bj as ns,bk as ls,bl as rs,w as is,bm as ds,bn as $,bo as cs,bp as us,bq as ms,br as vs,bs as hs,bt as ps}from"./index-ae20141e.js";const fs=()=>{},bs=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:W,Comment:G,EffectScope:J,Fragment:w,KeepAlive:Q,ReactiveEffect:X,Static:Y,Suspense:Z,Teleport:ee,Text:te,Transition:se,TransitionGroup:ae,VueElement:oe,assertNumber:ne,callWithAsyncErrorHandling:le,callWithErrorHandling:re,camelize:ie,capitalize:de,cloneVNode:ce,compatUtils:ue,compile:fs,computed:_,createApp:me,createBlock:M,createCommentVNode:y,createElementBlock:d,createElementVNode:e,createHydrationRenderer:ve,createPropsRestProxy:he,createRenderer:pe,createSSRApp:fe,createSlots:be,createStaticVNode:ge,createTextVNode:ye,createVNode:V,customRef:_e,defineAsyncComponent:xe,defineComponent:we,defineCustomElement:Ce,defineEmits:ke,defineExpose:$e,defineProps:Pe,defineSSRCustomElement:Se,get devtools(){return Re},effect:Ee,effectScope:Me,getCurrentInstance:Ve,getCurrentScope:Te,getTransitionRawChildren:Be,guardReactiveProps:Ne,h:Ae,handleError:De,hydrate:je,initCustomFormatter:ze,initDirectivesForSSR:Ue,inject:He,isMemoSame:Ie,isProxy:Oe,isReactive:Fe,isReadonly:qe,isRef:Ke,isRuntimeOnly:Le,isShallow:We,isVNode:Ge,markRaw:Je,mergeDefaults:Qe,mergeProps:Xe,nextTick:Ye,normalizeClass:T,normalizeProps:Ze,normalizeStyle:et,onActivated:tt,onBeforeMount:st,onBeforeUnmount:at,onBeforeUpdate:ot,onDeactivated:nt,onErrorCaptured:lt,onMounted:B,onRenderTracked:rt,onRenderTriggered:it,onScopeDispose:dt,onServerPrefetch:ct,onUnmounted:ut,onUpdated:mt,openBlock:l,popScopeId:vt,provide:ht,proxyRefs:pt,pushScopeId:ft,queuePostFlushCb:bt,reactive:gt,readonly:yt,ref:h,registerRuntimeCompiler:_t,render:xt,renderList:C,renderSlot:wt,resolveComponent:Ct,resolveDirective:kt,resolveDynamicComponent:$t,resolveFilter:Pt,resolveTransitionHooks:St,setBlockTracking:Rt,setDevtoolsHook:Et,setTransitionHooks:Mt,shallowReactive:Vt,shallowReadonly:Tt,shallowRef:Bt,ssrContextKey:Nt,ssrUtils:At,stop:Dt,toDisplayString:b,toHandlerKey:jt,toHandlers:zt,toRaw:Ut,toRef:Ht,toRefs:It,transformVNodeArgs:Ot,triggerRef:Ft,unref:f,useAttrs:qt,useCssModule:Kt,useCssVars:Lt,useSSRContext:Wt,useSlots:Gt,useTransitionState:Jt,vModelCheckbox:Qt,vModelDynamic:Xt,vModelRadio:Yt,vModelSelect:Zt,vModelText:k,vShow:es,version:ts,warn:ss,watch:as,watchEffect:os,watchPostEffect:ns,watchSyncEffect:ls,withAsyncContext:rs,withCtx:is,withDefaults:ds,withDirectives:$,withKeys:cs,withMemo:us,withModifiers:ms,withScopeId:vs},Symbol.toStringTag,{value:"Module"}));function gs(c){if(c.__esModule)return c;var a=c.default;if(typeof a=="function"){var t=function i(){if(this instanceof i){var o=[null];o.push.apply(o,arguments);var u=Function.bind.apply(a,o);return new u}return a.apply(this,arguments)};t.prototype=a.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(c).forEach(function(i){var o=Object.getOwnPropertyDescriptor(c,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return c[i]}})}),t}const j=gs(bs),{createElementVNode:D,openBlock:ys,createElementBlock:_s}=j;var xs=function(a,t){return ys(),_s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[D("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"}),D("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"})])};const{createElementVNode:ws,openBlock:Cs,createElementBlock:ks}=j;var $s=function(a,t){return Cs(),ks("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[ws("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})])},Ps=xs,Ss=$s;const Rs={class:"fixed inset-0 z-10 overflow-y-auto"},Es={class:"flex items-center justify-center min-h-screen px-4"},Ms=e("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),Vs={class:"overflow-hidden transition-all transform bg-white rounded-lg shadow-xl sm:w-full md:w-1/2 lg:w-1/3"},Ts={class:"p-4 bg-gray-100"},Bs=e("h2",{class:"mb-2 text-xl font-bold"},"Add Comment",-1),Ns={class:"mb-4"},As={class:"flex items-center justify-end"},Ds={__name:"CommentModal",emits:["close","addComment"],setup(c,{emit:a}){const t=h({}),i=()=>{t.value.by="the-user",t.value.date=new Date().toISOString(),a("addComment",t.value)};return(o,u)=>(l(),d("div",Rs,[e("div",Es,[Ms,e("div",Vs,[e("div",Ts,[Bs,e("form",null,[e("div",Ns,[$(e("textarea",{class:"w-full px-3 py-2 leading-tight text-gray-700 border rounded focus:outline-none focus:shadow-outline",id:"comment",placeholder:"Enter your comment","onUpdate:modelValue":u[0]||(u[0]=m=>t.value.comment=m)},null,512),[[k,t.value.comment,void 0,{trim:!0}]])]),e("div",As,[e("button",{class:"px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline",type:"button",onClick:u[1]||(u[1]=m=>i())}," Add "),e("button",{class:"px-4 py-2 ml-2 font-bold text-white bg-gray-500 rounded hover:bg-gray-700 focus:outline-none focus:shadow-outline",type:"button",onClick:u[2]||(u[2]=m=>o.$emit("close"))}," Cancel ")])])])])])]))}},js={class:"fixed inset-0 z-10 overflow-y-auto"},zs={class:"flex items-center justify-center min-h-screen px-4"},Us=e("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),Hs={class:"overflow-hidden transition-all transform bg-white rounded-lg shadow-xl sm:w-full md:w-1/2 lg:w-1/3"},Is={class:"p-4 bg-gray-100"},Os={class:"mb-2 text-xl font-bold"},Fs={class:"mb-4"},qs=["placeholder"],Ks={class:"flex items-center justify-end"},Ls={__name:"PromptUser",props:["title","placeholder","currentValue"],emits:["close","submit"],setup(c,{emit:a}){const t=c,i=h(),o=()=>{a("submit",i.value)};return B(()=>{t.currentValue&&(i.value=t.currentValue)}),(u,m)=>(l(),d("div",js,[e("div",zs,[Us,e("div",Hs,[e("div",Is,[e("h2",Os,b(c.title),1),e("div",null,[e("div",Fs,[$(e("textarea",{class:"w-full px-3 py-2 leading-tight text-gray-700 border rounded focus:outline-none focus:shadow-outline",id:"comment",placeholder:c.placeholder,"onUpdate:modelValue":m[0]||(m[0]=g=>i.value=g)},null,8,qs),[[k,i.value,void 0,{trim:!0}]])]),e("div",Ks,[e("button",{class:"px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline",type:"button",onClick:m[1]||(m[1]=g=>o())}," Submit "),e("button",{class:"px-4 py-2 ml-2 font-bold text-white bg-gray-500 rounded hover:bg-gray-700 focus:outline-none focus:shadow-outline",type:"button",onClick:m[2]||(m[2]=g=>u.$emit("close"))}," Cancel ")])])])])])]))}},Ws={class:"container"},Gs=e("h1",{class:"text-6xl font-bold"},"POSTS",-1),Js={class:"p-4 mb-3 bg-white rounded-md shadow-md"},Qs={class:"items-center justify-between flex-grow mb-3"},Xs=["disabled"],Ys=e("hr",{class:"mx-4 my-8 border-t border-gray-300"},null,-1),Zs={key:0,class:"text-center"},ea={key:1,class:"pt-5"},ta={class:"p-4 mb-3 bg-white rounded-md shadow-md"},sa={class:"flex items-center justify-between mb-3"},aa={class:"text-4xl font-medium"},oa={class:"text-sm text-gray-500 shrink-0 place-self-start"},na=["onClick"],la=["onClick"],ra=["onClick"],ia={class:"p-4 bg-white rounded-md shadow-md"},da=e("h3",{class:"mb-4 text-lg font-medium"},"Comments:",-1),ca={key:0,class:"italic text-gray-400"},ua={class:"p-4 mb-1 bg-gray-100 rounded-md"},ma={class:"flex items-center gap-4 mb-4"},va=e("img",{class:"w-12 h-12 rounded-full",src:"https://via.placeholder.com/150",alt:"Profile Picture"},null,-1),ha={class:"text-lg font-medium"},pa={class:"text-sm text-gray-500"},fa={class:"text-gray-700"},ba=e("hr",{class:"mx-4 my-8 border-t border-gray-300"},null,-1),ga={class:"flex items-center justify-center my-4"},ya={class:"inline-flex"},_a=["onClick"],xa={key:2},wa={key:3},ka={__name:"Posts",setup(c){const a=hs(),t=h(!1),i=h(!1),o=h(""),u=_(()=>a.getters.getPosts),m=_(()=>a.getters.getPersons),g=_(()=>Math.ceil(a.getters.getPosts.length/20)),P=_(()=>{const s=(p.value-1)*20,r=Math.min(s+20,u.value.length);return u.value.slice(s,r)}),p=h(1),S=s=>{window.scrollTo({top:0,left:0,behavior:"smooth"}),p.value=s},z=()=>{S(p.value+1)},U=()=>{S(p.value-1)},R=h(!1),E=h(""),H=s=>{const r=m.value&&m.value.find(n=>n.guid===s);return r?`${r.first} ${r.last}`:s},I=s=>{a.commit("deletePost",s),p.value=Math.min(p.value,g.value)},O=s=>{a.commit("addComment",{guid:x.value,comment:s})},F=()=>{o&&(a.commit("addPost",o.value),o.value="")},q=s=>{a.commit("updatePost",{guid:x.value,name:s}),i.value=!1},N=h(""),K=s=>{x.value=s.guid,N.value=s.name,i.value=!0};B(async()=>{console.log(a);try{R.value=!0,await a.dispatch("fetchPosts"),R.value=!1}catch(s){E.value=s}});const x=h(""),L=s=>{x.value=s,t.value=!t.value};return(s,r)=>(l(),d("div",Ws,[Gs,e("div",Js,[e("div",Qs,[$(e("textarea",{"onUpdate:modelValue":r[0]||(r[0]=n=>o.value=n),class:"w-full p-2 border rounded bg-gray-50",placeholder:"What's on your mind?"},null,512),[[k,o.value,void 0,{trim:!0}]]),e("button",{onClick:r[1]||(r[1]=n=>F()),disabled:!o.value,class:T([{"bg-gray-200":!o.value,"bg-blue-500 hover:bg-blue-400 shadow":o.value},"flex-shrink-0 px-2 py-1 text-sm text-white rounded place-self-start"])}," Add Post ",10,Xs)])]),Ys,R.value?(l(),d("div",Zs,"Loading...")):f(P)&&f(P).length?(l(),d("div",ea,[(l(!0),d(w,null,C(f(P),n=>(l(),d("div",{key:"post-"+n.guid,class:""},[e("div",ta,[e("div",sa,[e("h2",aa,b(n.name),1),e("span",oa,[e("button",{onClick:v=>K(n),class:"text-blue-400"},[V(f(Ps),{class:"w-5 h-5 text-gray-700"})],8,na),e("button",{onClick:v=>I(n.guid),class:"text-red-400"},[V(f(Ss),{class:"w-5 h-5 text-red-500"})],8,la)])])]),e("button",{onClick:v=>L(n.guid),class:"float-right px-2 py-1 my-2 mr-2 text-sm text-white bg-blue-500 rounded shadow hover:bg-blue-400"}," Add Comment ",8,ra),e("div",ia,[da,n.comments.length===0?(l(),d("div",ca," No comments available ")):y("",!0),(l(!0),d(w,null,C(n.comments.sort((v,A)=>new Date(A.date)-new Date(v.date)),v=>(l(),d("div",ua,[e("div",ma,[va,e("div",null,[e("h4",ha,b(H(v.by)),1),e("span",pa,b(f(ps)(v.date)),1)])]),e("p",fa,b(v.comment),1)]))),256))]),ba]))),128)),e("div",ga,[e("div",ya,[p.value>1?(l(),d("button",{key:0,class:"px-3 py-1 mx-1 text-gray-700 rounded-md hover:bg-gray-300",onClick:r[2]||(r[2]=n=>U())}," Prev ")):y("",!0),(l(!0),d(w,null,C(f(g),(n,v)=>(l(),d("button",{key:"page-"+n,class:T(["px-3 py-1 mx-1 text-gray-700 rounded-md hover:bg-gray-300",{"bg-gray-300":v+1==p.value,"bg-gray-200":v+1!=p.value}]),onClick:A=>S(v+1)},b(n),11,_a))),128)),p.value<f(g)?(l(),d("button",{key:1,class:"px-3 py-1 mx-1 text-gray-700 rounded-md hover:bg-gray-300",onClick:r[3]||(r[3]=n=>z())}," Next ")):y("",!0)])])])):(l(),d("div",xa,"No post")),E.value?(l(),d("div",wa,b(E.value),1)):y("",!0),t.value?(l(),M(Ds,{key:4,onAddComment:O,onClose:r[4]||(r[4]=n=>t.value=!1)})):y("",!0),i.value?(l(),M(Ls,{key:5,title:"Update Post",placeholder:"What's on your mind",currentValue:N.value,onSubmit:q,onClose:r[5]||(r[5]=n=>i.value=!1)},null,8,["currentValue"])):y("",!0)]))}};export{ka as default};
